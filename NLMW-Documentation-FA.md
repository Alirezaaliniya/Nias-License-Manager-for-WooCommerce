# ๐ ูุณุชูุฏุงุช ฺฉุงูู ุณุณุชู ูุฏุฑุช ูุงุณูุณ NLMW

## ๐ฏ ูุญูู ฺฉุงุฑ ุณุณุชู

### ูุฑุงุญู ุจุฑุฑุณ ูุงุณูุณ

#### 1๏ธโฃ ูุฑูุฏ ฺฉูุฏ ูุงุณูุณ
ฺฉุงุฑุจุฑ ฺฉูุฏ ูุงุณูุณ ุฑุง ุฏุฑ ุตูุญู ุชูุธูุงุช ูุงุฑุฏ ูโฺฉูุฏ.

#### 2๏ธโฃ ุงุนุชุจุงุฑุณูุฌ ุงููู (Validate)
ูุจู ุงุฒ ูุนุงูุณุงุฒุ ุณุณุชู ููุงุฑุฏ ุฒุฑ ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ:

```
โ ุจุฑุฑุณ ุดูุงุณู ูุญุตูู (Product ID)
   - ุงฺฏุฑ product_ids ุฏุฑ ุชูุธูุงุช ูุดุฎุต ุดุฏู ุจุงุดุฏ
   - ุดูุงุณู ูุญุตูู ูุงุณูุณ ุจุงุฏ ุจุง ฺฉ ุงุฒ ุดูุงุณูโูุง ูุฌุงุฒ ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ
   - ุฏุฑ ุบุฑ ุงู ุตูุฑุช: ุฎุทุง ู ูุนุงูุณุงุฒ ูุชููู ูโุดูุฏ

โ ุจุฑุฑุณ ุชุงุฑุฎ ุงููุถุง (Expiry Date)
   - ุงฺฏุฑ ูุงุณูุณ ุชุงุฑุฎ ุงููุถุง ุฏุงุดุชู ุจุงุดุฏ
   - ุชุงุฑุฎ ุงููุถุง ูุจุงุฏ ฺฏุฐุดุชู ุจุงุดุฏ
   - ุฏุฑ ุบุฑ ุงู ุตูุฑุช: ุฎุทุง "ูุงุณูุณ ูููุถ ุดุฏู ุงุณุช"

โ ุจุฑุฑุณ ูุถุนุช ูุงุจู ูุฑูุด (Sellable Status)
   - ูุถุนุช ูุงุณูุณ ูุจุงุฏ "ุบุฑ ูุงุจู ูุฑูุด" ุจุงุดุฏ
   - ุฏุฑ ุบุฑ ุงู ุตูุฑุช: ุฎุทุง "ูุถุนุช ูุงุณูุณ ุบุฑ ูุงุจู ูุฑูุด ุงุณุช"
```

#### 3๏ธโฃ ุจุฑุฑุณ ููุฌูุฏ ูุนุงูุณุงุฒ
ูุจู ุงุฒ ูุนุงูุณุงุฒุ ุชุนุฏุงุฏ ูุนุงูุณุงุฒโูุง ุจุงููุงูุฏู ุจุฑุฑุณ ูโุดูุฏ:

```php
if ( $activated >= $max ) {
    // ุฎุทุง: ุชุนุฏุงุฏ ูุนุงูุณุงุฒ ุจู ุญุฏุงฺฉุซุฑ ูุฌุงุฒ ุฑุณุฏู ุงุณุช
    return false;
}
```

**ูุซุงู:**
- ุญุฏุงฺฉุซุฑ ูุนุงูุณุงุฒ: 3
- ูุนุงูุณุงุฒโูุง ูุนู: 3
- ูุชุฌู: โ ูุนุงูุณุงุฒ ูุฌุงุฒ ูุณุช

#### 4๏ธโฃ ูุนุงูุณุงุฒ (Activate)
ุงฺฏุฑ ุชูุงู ุจุฑุฑุณโูุง ูููู ุจุงุดุฏ:
- ุฏุฑุฎูุงุณุช ูุนุงูุณุงุฒ ุจู ุณุฑูุฑ ุงุฑุณุงู ูโุดูุฏ
- ุชูฺฉู ูุนุงูุณุงุฒ ุฏุฑุงูุช ู ุฐุฎุฑู ูโุดูุฏ
- ูุถุนุช ูุงุณูุณ ุจู "ูุนุงู" ุชุบุฑ ูโฺฉูุฏ

#### 5๏ธโฃ ุบุฑูุนุงูุณุงุฒ (Deactivate)
ููฺฏุงู ุบุฑูุนุงูุณุงุฒ:
- ุชูฺฉู ูุนุงูุณุงุฒ ุงุฒ ุฏุชุงุจุณ ุฎูุงูุฏู ูโุดูุฏ
- ุฏุฑุฎูุงุณุช ุบุฑูุนุงูุณุงุฒ ุจุง ุชูฺฉู ุจู ุณุฑูุฑ ุงุฑุณุงู ูโุดูุฏ
- ฺฉ ููุฌูุฏ ูุนุงูุณุงุฒ ุขุฒุงุฏ ูโุดูุฏ
- ุชูฺฉู ุงุฒ ุฏุชุงุจุณ ูพุงฺฉ ูโุดูุฏ

---

## ๐ ุชูุงูุชโูุง ฺฉูุฏ ุจุง SDK ูุฑุฌุน

### 1. ุจุฑุฑุณ Product ID
**SDK ูุฑุฌุน:** ุงุฎุชุงุฑ ู ููุท warning
**NLMW:** ุงุฌุจุงุฑ ู ุจูุงฺฉ ฺฉููุฏู

```php
// NLMW - ุจุฑุฑุณ ุณุฎุชโฺฏุฑุงูู
if ( ! in_array( $product_id, $allowed_ids, true ) ) {
    $this->last_error = 'ุดูุงุณู ูุญุตูู ูุทุงุจูุช ูุฏุงุฑุฏ';
    return false; // ูุนุงูุณุงุฒ ูุชููู ูโุดูุฏ
}
```

### 2. ุจุฑุฑุณ ููุฌูุฏ ูุจู ุงุฒ ูุนุงูุณุงุฒ
**SDK ูุฑุฌุน:** ุจุฑุฑุณ ููโฺฉูุฏ
**NLMW:** ูุจู ุงุฒ ูุนุงูุณุงุฒ ุจุฑุฑุณ ูโฺฉูุฏ

```php
// NLMW - ุจุฑุฑุณ ููุฌูุฏ
if ( $activated >= $max ) {
    $this->last_error = 'ููุฌูุฏ ูุนุงูุณุงุฒ ุชูุงู ุดุฏู';
    return false;
}
```

### 3. ูุฏุฑุช ุชูฺฉู ุบุฑูุนุงูุณุงุฒ
**SDK ูุฑุฌุน:** ููฺฉู ุงุณุช ุชูฺฉู ุฑุง ุฐุฎุฑู ูฺฉูุฏ
**NLMW:** ููุดู ุชูฺฉู ุฑุง ุฐุฎุฑู ู ุงุณุชูุงุฏู ูโฺฉูุฏ

```php
// NLMW - ุฐุฎุฑู ุชูฺฉู
if ( isset( $response['data']['activationData']['token'] ) ) {
    update_option( 'nias_activation_token_' . md5( $license_key ), $token );
}

// NLMW - ุงุณุชูุงุฏู ุงุฒ ุชูฺฉู ุฏุฑ ุบุฑูุนุงูุณุงุฒ
$token = get_option( 'nias_activation_token_' . md5( $license_key ), '' );
$this->nias_deactivate_license( $license_key, $token );
```

---

## ๐ ุณูุงุฑููุง ูุฎุชูู

### ุณูุงุฑู 1: ูุงุณูุณ ุจุง ุดูุงุณู ูุญุตูู ุงุดุชุจุงู
```
ูุฑูุฏ:
- ฺฉูุฏ ูุงุณูุณ: XXXX-YYYY-ZZZZ-WWWW
- ุดูุงุณู ูุญุตูู ูุงุณูุณ: 9999
- ุดูุงุณูโูุง ูุฌุงุฒ: [1234, 5678, 9012]

ูุชุฌู:
โ ุฎุทุง: "ุดูุงุณู ูุญุตูู ูุงุณูุณ (9999) ุจุง ุดูุงุณูโูุง ูุฌุงุฒ (1234, 5678, 9012) ูุทุงุจูุช ูุฏุงุฑุฏ"
```

### ุณูุงุฑู 2: ูุงุณูุณ ุจุฏูู ููุฌูุฏ
```
ูุฑูุฏ:
- ฺฉูุฏ ูุงุณูุณ: XXXX-YYYY-ZZZZ-WWWW
- ุญุฏุงฺฉุซุฑ ูุนุงูุณุงุฒ: 3
- ูุนุงูุณุงุฒโูุง ูุนู: 3

ูุชุฌู:
โ ุฎุทุง: "ุชุนุฏุงุฏ ูุนุงูุณุงุฒ ุจู ุญุฏุงฺฉุซุฑ ูุฌุงุฒ ุฑุณุฏู ุงุณุช (3 ุงุฒ 3)"
```

### ุณูุงุฑู 3: ูุงุณูุณ ูููุถ ุดุฏู
```
ูุฑูุฏ:
- ฺฉูุฏ ูุงุณูุณ: XXXX-YYYY-ZZZZ-WWWW
- ุชุงุฑุฎ ุงููุถุง: 2024-01-01
- ุชุงุฑุฎ ูุนู: 2024-02-01

ูุชุฌู:
โ ุฎุทุง: "ูุงุณูุณ ูููุถ ุดุฏู ุงุณุช"
```

### ุณูุงุฑู 4: ูุงุณูุณ ูุนุชุจุฑ
```
ูุฑูุฏ:
- ฺฉูุฏ ูุงุณูุณ: XXXX-YYYY-ZZZZ-WWWW
- ุดูุงุณู ูุญุตูู: 1234 โ
- ุญุฏุงฺฉุซุฑ ูุนุงูุณุงุฒ: 3
- ูุนุงูุณุงุฒโูุง ูุนู: 1
- ุชุงุฑุฎ ุงููุถุง: 2025-12-31

ูุชุฌู:
โ ูุนุงูุณุงุฒ ูููู
โ ููุฌูุฏ ุจุงููุงูุฏู: 2 ุงุฒ 3
```

### ุณูุงุฑู 5: ุบุฑูุนุงูุณุงุฒ ู ุจุงุฒฺฏุดุช ููุฌูุฏ
```
ูุจู ุงุฒ ุบุฑูุนุงูุณุงุฒ:
- ูุนุงูุณุงุฒโูุง ูุนู: 2 ุงุฒ 3

ุนููุงุช:
1. ุฏุฑุงูุช ุชูฺฉู ูุนุงูุณุงุฒ ุงุฒ ุฏุชุงุจุณ
2. ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุบุฑูุนุงูุณุงุฒ ุจุง ุชูฺฉู
3. ุณุฑูุฑ ฺฉ ููุฌูุฏ ุฑุง ุขุฒุงุฏ ูโฺฉูุฏ

ุจุนุฏ ุงุฒ ุบุฑูุนุงูุณุงุฒ:
- ูุนุงูุณุงุฒโูุง ูุนู: 1 ุงุฒ 3
- ููุฌูุฏ ุขุฒุงุฏ ุดุฏู: +1
```

---

## ๐๏ธ ูุญูู ุงุณุชูุงุฏู

### ูุซุงู 1: ุชูุธูุงุช ูพุงู
```php
$PLUGIN_CONFIG = array(
    'prefix'        => 'my-shop',
    'name'          => 'ุงูุฒููู ูุฑูุดฺฏุงู ูู',
    'text_domain'   => 'my-shop',
);

$STORE_CONFIG = array(
    'url'              => 'https://mystore.ir',
    'consumer_key'     => 'ck_xxxxxxxxxxxxx',
    'consumer_secret'  => 'cs_xxxxxxxxxxxxx',
);

$LICENSE_CONFIG = array(
    'product_ids'  => array( 1234, 5678 ), // ููุท ุงู ุฏู ูุญุตูู ูุฌุงุฒ
    'cache_days'   => 7,
);
```

### ูุซุงู 2: ูุจูู ููู ูุญุตููุงุช
```php
$LICENSE_CONFIG = array(
    'product_ids'  => array(), // ุฎุงู = ููู ูุญุตููุงุช ูุฌุงุฒ
    'cache_days'   => 5,
);
```

### ูุซุงู 3: ุจุฑุฑุณ ูุถุนุช ูุงุณูุณ ุฏุฑ ฺฉุฏ
```php
// ุฏุฑ ูุฑ ุฌุง ฺฉุฏ ุงูุฒููู
if ( is_license_valid() ) {
    // ููุงุด ูฺฺฏ ูพุฑููู
    show_premium_feature();
} else {
    // ููุงุด ูพุงู ูุญุฏูุฏุช
    echo 'ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุงู ูฺฺฏุ ูุงุณูุณ ูุนุชุจุฑ ูุงุฒ ุงุณุช.';
}
```

---

## ๐ ุงููุช ู ุจูุชุฑู ุฑูุดโูุง

### 1. ูุญุงูุธุช ุงุฒ ฺฉูุฏูุง API
```php
// โ ุงุดุชุจุงู - ฺฉูุฏูุง ุฏุฑ ฺฉุฏ
$consumer_key = 'ck_1234567890';

// โ ุฏุฑุณุช - ฺฉูุฏูุง ุฏุฑ ุชูุธูุงุช
$consumer_key = get_option( 'my_plugin_consumer_key' );
```

### 2. ุงุณุชูุงุฏู ุงุฒ ุชูฺฉู ุจุฑุง ุบุฑูุนุงูุณุงุฒ
```php
// โ ููุดู ุชูฺฉู ุฑุง ุฐุฎุฑู ฺฉูุฏ
update_option( 'nias_activation_token_' . md5( $license_key ), $token );

// โ ููุดู ุชูฺฉู ุฑุง ุจุฑุง ุบุฑูุนุงูุณุงุฒ ุงุณุชูุงุฏู ฺฉูุฏ
$token = get_option( 'nias_activation_token_' . md5( $license_key ) );
$client->nias_deactivate_license( $license_key, $token );
```

### 3. ุจุฑุฑุณ ุฏูุฑูโุง ูุงุณูุณ
```php
// ฺฉุฑูู ุฑูุฒุงูู ุจุฑุง ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ
new Nias_License_Cron_Handler(
    $plugin_slug,
    DAY_IN_SECONDS, // ูุฑ 24 ุณุงุนุช
    $plugin_slug
);
```

---

## ๐ ุนุจโุงุจ

### ูุดฺฉู: ูุงุณูุณ ูุนุงู ููโุดูุฏ
```
ุจุฑุฑุณ ฺฉูุฏ:
1. ุขุง ุดูุงุณู ูุญุตูู ุฏุฑ ูุณุช ูุฌุงุฒ ุงุณุชุ
2. ุขุง ููุฌูุฏ ูุนุงูุณุงุฒ ุจุงู ูุงูุฏูุ
3. ุขุง ูุงุณูุณ ูููุถ ูุดุฏูุ
4. ุขุง ฺฉูุฏูุง API ุตุญุญ ูุณุชูุฏุ
```

### ูุดฺฉู: ููุฌูุฏ ุจุงุฒฺฏุดุช ุฏุงุฏู ููโุดูุฏ
```
ุจุฑุฑุณ ฺฉูุฏ:
1. ุขุง ุชูฺฉู ูุนุงูุณุงุฒ ุฐุฎุฑู ุดุฏูุ
2. ุขุง ุฏุฑุฎูุงุณุช ุบุฑูุนุงูุณุงุฒ ูููู ุจูุฏูุ
3. ูุงฺฏโูุง ุฎุทุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
```

### ูุนุงูโุณุงุฒ ูุงฺฏโูุง
```php
// ุฏุฑ wp-config.php
define( 'WP_DEBUG', true );
define( 'WP_DEBUG_LOG', true );

// ูุงฺฏโูุง ุฏุฑ: wp-content/debug.log
```

---

## ๐ ุฌุฏูู ููุงุณู

| ูฺฺฏ | SDK ูุฑุฌุน | NLMW |
|-------|----------|------|
| ุจุฑุฑุณ Product ID | ุงุฎุชุงุฑ | ุงุฌุจุงุฑ โ |
| ุจุฑุฑุณ ููุฌูุฏ ูุจู ุงุฒ ูุนุงูุณุงุฒ | โ | โ |
| ุฐุฎุฑู ุชูฺฉู ุบุฑูุนุงูุณุงุฒ | ูุงูุดุฎุต | โ |
| ุจุงุฒฺฏุดุช ููุฌูุฏ | ูุงูุดุฎุต | โ |
| ูพุงูโูุง ุฎุทุง ูุงุฑุณ | โ | โ |
| ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงุฑุณ | โ | โ |
| ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ ุฏูุฑูโุง | โ | โ |

---

## ๐ ูพุดุชุจุงู

ุจุฑุง ฺฏุฒุงุฑุด ุจุงฺฏ ุง ุฏุฑุฎูุงุณุช ูฺฺฏ ุฌุฏุฏุ ูุทูุงู ฺฉ Issue ุฏุฑ GitHub ุงุฌุงุฏ ฺฉูุฏ.
